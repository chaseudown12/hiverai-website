<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wayfinder First Timer's Club</title>
    <link href="https://fonts.cdnfonts.com/css/neo-sans" rel="stylesheet">
    <style>
        body {
            background-color: grey;
            margin: 0;
            padding: 0;
            font-family: 'Neo Sans', sans-serif;
        }

        #chat-popup {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50%;
            min-height: 25%;
            max-height: 50%;
            background: black;
            padding: 25px;
            border-radius: 7px;
            overflow-y: auto;
            color: green;
            display: none;
            z-index: 999;
        }

        .user-btn {
            background-color: darkgreen;
            color: white;
            padding: 10px;
            margin: 5px;
            border-radius: 7px;
            border: none;
            cursor: pointer;
            font-family: 'Neo Sans', sans-serif;
        }

        #close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: red;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 7px;
            cursor: pointer;
        }

        #open-chat-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px;
            background: darkgreen;
            color: white;
            border: none;
            border-radius: 7px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<button id="open-chat-btn">Open WayFinder</button>

<div id="chat-popup">
    <button id="close-btn">X</button>
    <div id="chat-content"></div>
</div>

<script>
    let userName = '';
    let currentStatement = 1;

    const statements = {
        1: `Are you ready to get started getting your ISNetworld Safety Topics Approved?<br>What is your name?<br><button class="user-btn" onclick="submitName()">Submit Name</button><button class="user-btn" onclick="navigate(2)">Move Forward</button>`,
        2: () => `Hello ${userName}, I am WayFinder your virtual assistant here to guide you through the process of getting your safety topics into ISNetworld and approved. I'll help you avoid common mistakes and questions along the way. ðŸ˜‚<br><button class="user-btn" onclick="navigate(1)">Go Back</button><button class="user-btn" onclick="navigate(3)">Move Forward</button>`,
        3: `Now that the introductions are over let's start. Go ahead and log into ISNetworld and go to the RAVS written programs section. ðŸ˜‚<br><button class="user-btn" onclick="navigate(2)">Go Back</button><button class="user-btn" onclick="navigate(4)">Move Forward</button>`,
        4: `Since this is your first time using the OWYN Safety Management site, add some additional information then click submit.<br><button class="user-btn" onclick="navigate(3)">Go Back</button><button class="user-btn" onclick="navigate(7)">Move Forward</button>`,
        7: `We need to make sure your company name matches your ISNetworld account.<br><button class="user-btn" onclick="navigate(4)">Go Back</button><button class="user-btn" onclick="alert('Check Company Name coming soon!')">Check Company Name</button><button class="user-btn" onclick="navigate(8)">Move Forward</button>`,
        8: `Download your ISNetworld answer key.<br><button class="user-btn" onclick="navigate(7)">Go Back</button><button class="user-btn" onclick="alert('Download Answer Key coming soon!')">Download Answer Key</button><button class="user-btn" onclick="navigate(9)">Move Forward</button>`,
        9: `Find your documents, then click ready to move on.<br><button class="user-btn" onclick="navigate(8)">Go Back</button><button class="user-btn" onclick="alert('Safety topic page link coming soon!')">Go to Safety Topics Page</button><button class="user-btn" onclick="navigate(10)">Move Forward</button>`,
        10: `Use the ISNetworld Safety Topic Upload Cheat Sheet to upload information.<br><button class="user-btn" onclick="navigate(9)">Go Back</button><button class="user-btn" onclick="navigate(11)">Move Forward</button>`,
        11: `Congratulations. I knew you could do it! See you next time.<br><button class="user-btn" onclick="endChat()">End Chat</button>`
    };

    document.getElementById('open-chat-btn').onclick = () => {
        document.getElementById('chat-popup').style.display = 'block';
        navigate(1);
    };

    document.getElementById('close-btn').onclick = endChat;

    function submitName() {
        userName = prompt('Please enter your name:');
        if (userName) navigate(2);
    }

    function navigate(statement) {
        currentStatement = statement;
        const content = statements[statement];
        document.getElementById('chat-content').innerHTML = typeof content === 'function' ? content() : content;
    }

    function endChat() {
        document.getElementById('chat-popup').style.display = 'none';
        currentStatement = 1;
        userName = '';
    }
</script>

</body>
</html>
